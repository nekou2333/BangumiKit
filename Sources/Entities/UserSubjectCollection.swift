// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct UserSubjectCollection: Codable {
    public var subjectID: Int
    /// 条目类型
    /// - `1` 为 书籍
    /// - `2` 为 动画
    /// - `3` 为 音乐
    /// - `4` 为 游戏
    /// - `6` 为 三次元
    ///
    /// 没有 `5`
    public var subjectType: Int
    public var rate: Int
    /// CollectionType
    ///
    /// - `1`: 想看
    /// - `2`: 看过
    /// - `3`: 在看
    /// - `4`: 搁置
    /// - `5`: 抛弃
    public var type: Int
    /// Example: "看看"
    public var comment: String?
    /// Example: ["柯南", "万年小学生", "推理", "青山刚昌", "TV"]
    public var tags: [String]
    public var epStatus: Int
    public var volStatus: Int
    /// 本时间并不代表条目的收藏时间。修改评分，评价，章节观看状态等收藏信息时未更新此时间是一个 bug。请不要依赖此特性
    ///
    /// Example: "2022-06-19T18:44:13.6140127+08:00"
    public var updatedAt: Date
    /// Private
    public var isPrivate: Bool
    /// SlimSubject
    public var subject: SlimSubject?

    public init(
        subjectID: Int,
        subjectType: Int,
        rate: Int,
        type: Int,
        comment: String? = nil,
        tags: [String],
        epStatus: Int,
        volStatus: Int,
        updatedAt: Date,
        isPrivate: Bool,
        subject: SlimSubject? = nil
    ) {
        self.subjectID = subjectID
        self.subjectType = subjectType
        self.rate = rate
        self.type = type
        self.comment = comment
        self.tags = tags
        self.epStatus = epStatus
        self.volStatus = volStatus
        self.updatedAt = updatedAt
        self.isPrivate = isPrivate
        self.subject = subject
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.subjectID = try values.decode(Int.self, forKey: "subject_id")
        self.subjectType = try values.decode(Int.self, forKey: "subject_type")
        self.rate = try values.decode(Int.self, forKey: "rate")
        self.type = try values.decode(Int.self, forKey: "type")
        self.comment = try values.decodeIfPresent(String.self, forKey: "comment")
        self.tags = try values.decode([String].self, forKey: "tags")
        self.epStatus = try values.decode(Int.self, forKey: "ep_status")
        self.volStatus = try values.decode(Int.self, forKey: "vol_status")
        self.updatedAt = try values.decode(Date.self, forKey: "updated_at")
        self.isPrivate = try values.decode(Bool.self, forKey: "private")
        self.subject = try values.decodeIfPresent(SlimSubject.self, forKey: "subject")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(subjectID, forKey: "subject_id")
        try values.encode(subjectType, forKey: "subject_type")
        try values.encode(rate, forKey: "rate")
        try values.encode(type, forKey: "type")
        try values.encodeIfPresent(comment, forKey: "comment")
        try values.encode(tags, forKey: "tags")
        try values.encode(epStatus, forKey: "ep_status")
        try values.encode(volStatus, forKey: "vol_status")
        try values.encode(updatedAt, forKey: "updated_at")
        try values.encode(isPrivate, forKey: "private")
        try values.encodeIfPresent(subject, forKey: "subject")
    }
}
