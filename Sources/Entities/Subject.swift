// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct Subject: Codable {
    public var id: Int
    public var type: Int
    public var name: String
    public var nameCn: String
    public var summary: String
    /// Series
    ///
    /// 是否为书籍系列的主条目
    public var isSeries: Bool
    /// Nsfw
    public var isNsfw: Bool
    /// Locked
    public var isLocked: Bool
    /// Air date in `YYYY-MM-DD` format
    public var date: String?
    /// TV, Web, 欧美剧, DLC...
    public var platform: String
    public var images: Images
    /// Example:
    ///
    /// [
    ///   {
    ///     "key" : "简体中文名",
    ///     "value" : "鲁路修·兰佩路基"
    ///   },
    ///   {
    ///     "key" : "别名",
    ///     "value" : [
    ///       {
    ///         "v" : "L.L."
    ///       },
    ///       {
    ///         "v" : "勒鲁什"
    ///       },
    ///       {
    ///         "v" : "鲁鲁修"
    ///       },
    ///       {
    ///         "v" : "ゼロ"
    ///       },
    ///       {
    ///         "v" : "Zero"
    ///       },
    ///       {
    ///         "k" : "英文名",
    ///         "v" : "Lelouch Lamperouge"
    ///       },
    ///       {
    ///         "k" : "第二中文名",
    ///         "v" : "鲁路修·冯·布里塔尼亚"
    ///       },
    ///       {
    ///         "k" : "英文名二",
    ///         "v" : "Lelouch Vie Britannia"
    ///       },
    ///       {
    ///         "k" : "日文名",
    ///         "v" : "ルルーシュ・ヴィ・ブリタニア"
    ///       }
    ///     ]
    ///   },
    ///   {
    ///     "key" : "性别",
    ///     "value" : "男"
    ///   },
    ///   {
    ///     "key" : "生日",
    ///     "value" : "12月5日"
    ///   },
    ///   {
    ///     "key" : "血型",
    ///     "value" : "A型"
    ///   },
    ///   {
    ///     "key" : "身高",
    ///     "value" : "178cm→181cm"
    ///   },
    ///   {
    ///     "key" : "体重",
    ///     "value" : "54kg"
    ///   },
    ///   {
    ///     "key" : "引用来源",
    ///     "value" : "Wikipedia"
    ///   }
    /// ]
    public var infobox: [WikiV0Item]?
    /// 书籍条目的册数，由旧服务端从wiki中解析
    public var volumes: Int
    /// 由旧服务端从wiki中解析，对于书籍条目为`话数`
    public var eps: Int
    /// 数据库中的章节数量
    public var totalEpisodes: Int
    public var rating: Rating
    public var collection: Collection
    /// 由维基人维护的 tag
    public var metaTags: [String]
    public var tags: [SubjectTag]

    public struct Rating: Codable {
        public var rank: Int
        public var total: Int
        public var count: Count
        public var score: Double

        public struct Count: Codable {
            public var _1: Int?
            public var _2: Int?
            public var _3: Int?
            public var _4: Int?
            public var _5: Int?
            public var _6: Int?
            public var _7: Int?
            public var _8: Int?
            public var _9: Int?
            public var _10: Int?

            public init(
                _1: Int? = nil,
                _2: Int? = nil,
                _3: Int? = nil,
                _4: Int? = nil,
                _5: Int? = nil,
                _6: Int? = nil,
                _7: Int? = nil,
                _8: Int? = nil,
                _9: Int? = nil,
                _10: Int? = nil
            ) {
                self._1 = _1
                self._2 = _2
                self._3 = _3
                self._4 = _4
                self._5 = _5
                self._6 = _6
                self._7 = _7
                self._8 = _8
                self._9 = _9
                self._10 = _10
            }

            public init(from decoder: Decoder) throws {
                let values = try decoder.container(keyedBy: StringCodingKey.self)
                self._1 = try values.decodeIfPresent(Int.self, forKey: "1")
                self._2 = try values.decodeIfPresent(Int.self, forKey: "2")
                self._3 = try values.decodeIfPresent(Int.self, forKey: "3")
                self._4 = try values.decodeIfPresent(Int.self, forKey: "4")
                self._5 = try values.decodeIfPresent(Int.self, forKey: "5")
                self._6 = try values.decodeIfPresent(Int.self, forKey: "6")
                self._7 = try values.decodeIfPresent(Int.self, forKey: "7")
                self._8 = try values.decodeIfPresent(Int.self, forKey: "8")
                self._9 = try values.decodeIfPresent(Int.self, forKey: "9")
                self._10 = try values.decodeIfPresent(Int.self, forKey: "10")
            }

            public func encode(to encoder: Encoder) throws {
                var values = encoder.container(keyedBy: StringCodingKey.self)
                try values.encodeIfPresent(_1, forKey: "1")
                try values.encodeIfPresent(_2, forKey: "2")
                try values.encodeIfPresent(_3, forKey: "3")
                try values.encodeIfPresent(_4, forKey: "4")
                try values.encodeIfPresent(_5, forKey: "5")
                try values.encodeIfPresent(_6, forKey: "6")
                try values.encodeIfPresent(_7, forKey: "7")
                try values.encodeIfPresent(_8, forKey: "8")
                try values.encodeIfPresent(_9, forKey: "9")
                try values.encodeIfPresent(_10, forKey: "10")
            }
        }

        public init(rank: Int, total: Int, count: Count, score: Double) {
            self.rank = rank
            self.total = total
            self.count = count
            self.score = score
        }

        public init(from decoder: Decoder) throws {
            let values = try decoder.container(keyedBy: StringCodingKey.self)
            self.rank = try values.decode(Int.self, forKey: "rank")
            self.total = try values.decode(Int.self, forKey: "total")
            self.count = try values.decode(Count.self, forKey: "count")
            self.score = try values.decode(Double.self, forKey: "score")
        }

        public func encode(to encoder: Encoder) throws {
            var values = encoder.container(keyedBy: StringCodingKey.self)
            try values.encode(rank, forKey: "rank")
            try values.encode(total, forKey: "total")
            try values.encode(count, forKey: "count")
            try values.encode(score, forKey: "score")
        }
    }

    public struct Collection: Codable {
        public var wish: Int
        public var collect: Int
        public var doing: Int
        public var onHold: Int
        public var dropped: Int

        public init(wish: Int, collect: Int, doing: Int, onHold: Int, dropped: Int) {
            self.wish = wish
            self.collect = collect
            self.doing = doing
            self.onHold = onHold
            self.dropped = dropped
        }

        public init(from decoder: Decoder) throws {
            let values = try decoder.container(keyedBy: StringCodingKey.self)
            self.wish = try values.decode(Int.self, forKey: "wish")
            self.collect = try values.decode(Int.self, forKey: "collect")
            self.doing = try values.decode(Int.self, forKey: "doing")
            self.onHold = try values.decode(Int.self, forKey: "on_hold")
            self.dropped = try values.decode(Int.self, forKey: "dropped")
        }

        public func encode(to encoder: Encoder) throws {
            var values = encoder.container(keyedBy: StringCodingKey.self)
            try values.encode(wish, forKey: "wish")
            try values.encode(collect, forKey: "collect")
            try values.encode(doing, forKey: "doing")
            try values.encode(onHold, forKey: "on_hold")
            try values.encode(dropped, forKey: "dropped")
        }
    }

    public init(
        id: Int,
        type: Int,
        name: String,
        nameCn: String,
        summary: String,
        isSeries: Bool,
        isNsfw: Bool,
        isLocked: Bool,
        date: String? = nil,
        platform: String,
        images: Images,
        infobox: [WikiV0Item]? = nil,
        volumes: Int,
        eps: Int,
        totalEpisodes: Int,
        rating: Rating,
        collection: Collection,
        metaTags: [String],
        tags: [SubjectTag]
    ) {
        self.id = id
        self.type = type
        self.name = name
        self.nameCn = nameCn
        self.summary = summary
        self.isSeries = isSeries
        self.isNsfw = isNsfw
        self.isLocked = isLocked
        self.date = date
        self.platform = platform
        self.images = images
        self.infobox = infobox
        self.volumes = volumes
        self.eps = eps
        self.totalEpisodes = totalEpisodes
        self.rating = rating
        self.collection = collection
        self.metaTags = metaTags
        self.tags = tags
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.id = try values.decode(Int.self, forKey: "id")
        self.type = try values.decode(Int.self, forKey: "type")
        self.name = try values.decode(String.self, forKey: "name")
        self.nameCn = try values.decode(String.self, forKey: "name_cn")
        self.summary = try values.decode(String.self, forKey: "summary")
        self.isSeries = try values.decode(Bool.self, forKey: "series")
        self.isNsfw = try values.decode(Bool.self, forKey: "nsfw")
        self.isLocked = try values.decode(Bool.self, forKey: "locked")
        self.date = try values.decodeIfPresent(String.self, forKey: "date")
        self.platform = try values.decode(String.self, forKey: "platform")
        self.images = try values.decode(Images.self, forKey: "images")
        self.infobox = try values.decodeIfPresent([WikiV0Item].self, forKey: "infobox")
        self.volumes = try values.decode(Int.self, forKey: "volumes")
        self.eps = try values.decode(Int.self, forKey: "eps")
        self.totalEpisodes = try values.decode(Int.self, forKey: "total_episodes")
        self.rating = try values.decode(Rating.self, forKey: "rating")
        self.collection = try values.decode(Collection.self, forKey: "collection")
        self.metaTags = try values.decode([String].self, forKey: "meta_tags")
        self.tags = try values.decode([SubjectTag].self, forKey: "tags")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(id, forKey: "id")
        try values.encode(type, forKey: "type")
        try values.encode(name, forKey: "name")
        try values.encode(nameCn, forKey: "name_cn")
        try values.encode(summary, forKey: "summary")
        try values.encode(isSeries, forKey: "series")
        try values.encode(isNsfw, forKey: "nsfw")
        try values.encode(isLocked, forKey: "locked")
        try values.encodeIfPresent(date, forKey: "date")
        try values.encode(platform, forKey: "platform")
        try values.encode(images, forKey: "images")
        try values.encodeIfPresent(infobox, forKey: "infobox")
        try values.encode(volumes, forKey: "volumes")
        try values.encode(eps, forKey: "eps")
        try values.encode(totalEpisodes, forKey: "total_episodes")
        try values.encode(rating, forKey: "rating")
        try values.encode(collection, forKey: "collection")
        try values.encode(metaTags, forKey: "meta_tags")
        try values.encode(tags, forKey: "tags")
    }
}
